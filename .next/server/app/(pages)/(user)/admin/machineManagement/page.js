(()=>{var e={};e.id=7344,e.ids=[7344],e.modules={1488:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>j});var n=t(60687),s=t(82948),o=t(27463),a=t(16184),i=t(6296),l=t(43210),d=t(52119),c=t(92900),u=t(22159);function p({open:e,onClose:r,editMachineId:t,machine:l}){let{control:p,errors:m,selectedImage:x,handleImageSelect:h,handleSubmit:f,handleAddMachine:b,isValid:g,message:v,openToast:A,setOpenToast:y,handelSetEditValues:j,currentMachineId:P,reset:w}=(0,c.A)(),C=()=>{r()};return(0,n.jsxs)(s.Ay,{anchor:"right",open:e,onClose:C,PaperProps:{sx:{width:{xs:"100%",sm:400},bgcolor:"black",color:"#fff",p:3}},children:[(0,n.jsx)(u.A,{open:A,message:v,setOpen:y}),(0,n.jsx)(o.A,{variant:"h6",fontWeight:600,gutterBottom:!0}),(0,n.jsx)(d.A,{name:"title",label:"Title",control:p,errors:m,rules:{required:"Title is required"}}),(0,n.jsx)(d.A,{name:"description",label:"Descriptions",control:p,errors:m,multiline:!0,rows:4}),(0,n.jsxs)(a.A,{component:"label",variant:"outlined",fullWidth:!0,sx:{my:2,color:"#aaa",borderColor:"#555",textTransform:"none"},children:[x?x.name:"Choose Image",(0,n.jsx)("input",{type:"file",hidden:!0,onChange:h})]}),(0,n.jsx)(d.A,{name:"price",label:"Price",control:p,errors:m}),(0,n.jsx)(d.A,{name:"dailyIncome",label:"Daily Income",control:p,errors:m}),(0,n.jsx)(d.A,{name:"fee",label:"Fee",control:p,errors:m}),(0,n.jsx)(d.A,{name:"rentalDays",label:"Rental Days",control:p,errors:m,type:"number"}),(0,n.jsxs)(i.A,{display:"flex",justifyContent:"space-between",mt:4,gap:2,children:[(0,n.jsx)(a.A,{variant:"contained",fullWidth:!0,sx:{bgcolor:"#7367F0",textTransform:"none"},onClick:f(b),disabled:!g,children:"Add"}),(0,n.jsx)(a.A,{fullWidth:!0,sx:{color:"#a64445",textTransform:"none",bgcolor:"#3a2b2b"},onClick:C,children:"Discard"})]})]})}var m=t(81186),x=t(12030),h=t(54050),f=t(70791),b=t(27605),g=t(31526),v=t(10268);function A(){let e=localStorage.getItem("id");console.log("current id: ",e);let{data:r,isLoading:t,refetch:n,isError:s,isSuccess:o}=(0,x.useQuery)((0,f.zB)(String(e))),{control:a,handleSubmit:i,setValue:d,getValues:c,watch:u,reset:p,formState:{errors:m,isValid:A}}=(0,b.mN)({resolver:(0,v.t)(g.k),defaultValues:{title:"",description:"",price:"",dailyIncome:"",fee:"",rentalDays:0}}),y=u("image"),[j,P]=(0,l.useState)(!1),[w,C]=(0,l.useState)(""),{mutateAsync:M,isSuccess:q,isError:D,error:I}=(0,h.useMutation)({mutationFn:f.EI.mutationFn}),T=async r=>{if(!y){P(!0),C("Please uplaod an Image");return}try{C("");let{title:t,description:n,price:s,dailyIncome:o,fee:a,rentalDays:i}=r,l=new FormData;l.append("title",t),l.append("description",n),l.append("price",s),l.append("dailyIncome",o),l.append("fee",a),l.append("rentalDays",i),y&&l.append("image",y);let d=await M({body:l,id:String(e)});console.log(d),!0===d.success&&(P(!0),C("Product Edited Successfully"),window.location.reload()),!1===d.success&&(P(!0),C(d.success))}catch(e){P(!0),C(e.message)}};return{product:r,control:a,handleSubmit:i,setValue:d,getValues:c,watch:u,reset:p,errors:m,selectedImage:y,handleImageSelect:e=>{let r=e.target.files?.[0];r&&d("image",r)},handleEditMachine:T,isValid:A,openToast:j,message:w,setOpenToast:P}}function y({open:e,onClose:r}){let{product:t,control:l,handleSubmit:c,setValue:p,getValues:m,watch:x,reset:h,errors:f,selectedImage:b,handleImageSelect:g,handleEditMachine:v,isValid:y,openToast:j,message:P,setOpenToast:w}=A(),C=()=>{r()};return(0,n.jsxs)(s.Ay,{anchor:"right",open:e,onClose:C,PaperProps:{sx:{width:{xs:"100%",sm:400},bgcolor:"black",color:"#fff",p:3}},children:[(0,n.jsx)(u.A,{open:j,message:P,setOpen:w}),(0,n.jsx)(o.A,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Edit Machine"}),(0,n.jsx)(d.A,{name:"title",label:"Title",control:l,errors:f,rules:{required:"Title is required"}}),(0,n.jsx)(d.A,{name:"description",label:"Descriptions",control:l,errors:f,multiline:!0,rows:4}),(0,n.jsxs)(a.A,{component:"label",variant:"outlined",fullWidth:!0,sx:{my:2,color:"#aaa",borderColor:"#555",textTransform:"none"},children:[b?b.name:"Choose Image",(0,n.jsx)("input",{type:"file",hidden:!0,onChange:g})]}),(0,n.jsx)(d.A,{name:"price",label:"Price",control:l,errors:f}),(0,n.jsx)(d.A,{name:"dailyIncome",label:"Daily Income",control:l,errors:f}),(0,n.jsx)(d.A,{name:"fee",label:"Fee",control:l,errors:f}),(0,n.jsx)(d.A,{name:"rentalDays",label:"Rental Days",control:l,errors:f,type:"number"}),(0,n.jsxs)(i.A,{display:"flex",justifyContent:"space-between",mt:4,gap:2,children:[(0,n.jsx)(a.A,{variant:"contained",fullWidth:!0,sx:{bgcolor:"#7367F0",textTransform:"none"},onClick:c(v),disabled:!y,children:"Edit"}),(0,n.jsx)(a.A,{fullWidth:!0,sx:{color:"#a64445",textTransform:"none",bgcolor:"#3a2b2b"},onClick:C,children:"Discard"})]})]})}function j(){let{machines:e,handelSetEditValues:r,currentMachine:t}=(0,c.A)(),{product:s}=A();console.log("product: ",s);let[a,i]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1);return(0,n.jsx)("div",{className:"min-h-screen bg-black p-4 md:p-8",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,n.jsx)(o.A,{sx:{fontWeight:"bold",color:"white",fontSize:24},children:"Machine Management"}),(0,n.jsxs)("main",{className:"mt-10",children:[(0,n.jsx)(m.A,{buttonText:"Add machine",editProduct:!0,showHeader:!0,columns:[{id:"title",label:"Title"},{id:"rentalDays",label:"Rent Days"},{id:"price",label:"Price"}],data:e,onClick:()=>{i(!0)},onClick2:()=>u(!0)}),(0,n.jsx)(p,{machine:t,open:a,onClose:()=>i(!1)}),(0,n.jsx)(y,{open:d,onClose:()=>u(!1)})]})]})})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5096:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var n=t(65239),s=t(48088),o=t(88170),a=t.n(o),i=t(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d={children:["",{children:["(pages)",{children:["(user)",{children:["admin",{children:["machineManagement",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,55308)),"/Users/abdulrauf/Downloads/Treasure-nft-clone/src/app/(pages)/(user)/admin/machineManagement/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,76742)),"/Users/abdulrauf/Downloads/Treasure-nft-clone/src/app/(pages)/(user)/admin/layout.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/abdulrauf/Downloads/Treasure-nft-clone/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/abdulrauf/Downloads/Treasure-nft-clone/src/app/(pages)/(user)/admin/machineManagement/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(pages)/(user)/admin/machineManagement/page",pathname:"/admin/machineManagement",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22159:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var n=t(60687),s=t(59985),o=t(43210),a=t.n(o);let i=({open:e,message:r,setOpen:t})=>{let[o,i]=a().useState({vertical:"top",horizontal:"center"}),{vertical:l,horizontal:d}=o;return(0,n.jsx)(s.A,{anchorOrigin:{vertical:l,horizontal:d},open:e,onClose:()=>t(!1),autoHideDuration:2e3,message:r},l+d)}},22213:(e,r,t)=>{Promise.resolve().then(t.bind(t,1488))},27910:e=>{"use strict";e.exports=require("stream")},28293:(e,r,t)=>{Promise.resolve().then(t.bind(t,55308))},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},51711:(e,r,t)=>{"use strict";t.d(r,{A:()=>y});var n,s=t(43210),o=t(49384),a=t(99282),i=t(61543),l=t(27463),d=t(62973),c=t(92829),u=t(13555),p=t(45258),m=t(84754),x=t(4144),h=t(82816);function f(e){return(0,h.Ay)("MuiInputAdornment",e)}let b=(0,x.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var g=t(60687);let v=e=>{let{classes:r,disablePointerEvents:t,hiddenLabel:n,position:s,size:o,variant:l}=e,d={root:["root",t&&"disablePointerEvents",s&&`position${(0,i.A)(s)}`,l,n&&"hiddenLabel",o&&`size${(0,i.A)(o)}`]};return(0,a.A)(d,f,r)},A=(0,u.default)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r[`position${(0,i.A)(t.position)}`],!0===t.disablePointerEvents&&r.disablePointerEvents,r[t.variant]]}})((0,p.A)(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${b.positionStart}&:not(.${b.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),y=s.forwardRef(function(e,r){let t=(0,m.b)({props:e,name:"MuiInputAdornment"}),{children:a,className:i,component:u="div",disablePointerEvents:p=!1,disableTypography:x=!1,position:h,variant:f,...b}=t,y=(0,c.A)()||{},j=f;f&&y.variant,y&&!j&&(j=y.variant);let P={...t,hiddenLabel:y.hiddenLabel,size:y.size,disablePointerEvents:p,position:h,variant:j},w=v(P);return(0,g.jsx)(d.A.Provider,{value:null,children:(0,g.jsx)(A,{as:u,ownerState:P,className:(0,o.A)(w.root,i),ref:r,...b,children:"string"!=typeof a||x?(0,g.jsxs)(s.Fragment,{children:["start"===h?n||(n=(0,g.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,a]}):(0,g.jsx)(l.A,{color:"textSecondary",children:a})})})})},52119:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var n=t(60687),s=t(43210),o=t(27605),a=t(24197),i=t(51711),l=t(83685),d=t(89463),c=t(75396);let u=({name:e,control:r,label:t,type:u="text",errors:p,multiline:m=!1,rows:x=4,rules:h})=>{let[f,b]=(0,s.useState)(!1),g="password"===u,v=()=>{b(e=>!e)};return(0,n.jsx)(o.xI,{rules:h,name:e,control:r,render:({field:r})=>(0,n.jsx)(a.A,{...r,type:g&&!f?"password":"text",label:t,variant:"outlined",fullWidth:!0,margin:"normal",multiline:m,rows:m?x:void 0,error:!!p?.[e],helperText:p?.[e]?.message,InputLabelProps:{style:{color:"#aaa"}},InputProps:{style:{color:"#fff"},endAdornment:g&&(0,n.jsx)(i.A,{position:"end",children:(0,n.jsx)(l.A,{onClick:v,edge:"end",sx:{color:"#aaa"},children:f?(0,n.jsx)(d.A,{}):(0,n.jsx)(c.A,{})})})},sx:{backgroundColor:"#262626",borderRadius:"6px","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#444"},"&:hover fieldset":{borderColor:"#666"},"&.Mui-focused fieldset":{borderColor:"#888"}}}})})}},55308:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/abdulrauf/Downloads/Treasure-nft-clone/src/app/(pages)/(user)/admin/machineManagement/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/abdulrauf/Downloads/Treasure-nft-clone/src/app/(pages)/(user)/admin/machineManagement/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},75396:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var n=t(23428),s=t(60687);let o=(0,n.A)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},89463:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var n=t(23428),s=t(60687);let o=(0,n.A)((0,s.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[4447,8260,1658,8456,3581,5291,6184,1060,6933,7864,1888,4197,2948,3673,9374],()=>t(5096));module.exports=n})();