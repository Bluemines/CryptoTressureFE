(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6652],{5929:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(95155),n=a(35726),l=a(12115);let r=e=>{let{open:s,message:a,setOpen:r}=e,[i,d]=l.useState({vertical:"top",horizontal:"center"}),{vertical:c,horizontal:o}=i;return(0,t.jsx)(n.A,{anchorOrigin:{vertical:c,horizontal:o},open:s,onClose:()=>r(!1),autoHideDuration:2e3,message:a},c+o)}},27740:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var t=a(95155),n=a(9422),l=a(8154),r=a(41218),i=a(16632),d=a(42663),c=a(71116),o=a(53267),u=a(74964),m=a(68534),x=a(41387),h=a(59522),p=a(65453),v=a(50757);let A=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),j=(0,p.v)(e=>({user:null,setUser:s=>e(()=>{var e,a;return{user:{id:s.id,username:s.username,email:s.email,phone:s.phone,status:A(s.status),role:s.role,level:s.level,referralCode:s.referralCode,emailVerified:s.emailVerified,createdAt:(0,v.m)(new Date(s.createdAt),{addSuffix:!0}),updatedAt:s.updatedAt,balance:null!=(a=null==(e=s.wallet)?void 0:e.balance)?a:"0"}}}),clearUser:()=>e(()=>({user:null}))}));var g=a(95838),f=a(5041),b=a(23464),N=a(35695),w=a(12115),y=a(9784),S=a(5929);function k(){let[e,s]=(0,w.useState)(!1),{user:a,suspendUser:p,showToast:v,setShowToast:A,message:k}=function(){let e=(0,N.useSearchParams)().get("id");console.log("iddd: ",e);let{data:s,isLoading:a,refetch:t,isError:n,isSuccess:l,error:r}=(0,g.useQuery)((0,h.X1)(Number(e))),{user:i,setUser:d}=j(),[c,o]=(0,w.useState)(!1),[u,m]=(0,w.useState)("");(0,w.useEffect)(()=>{s&&d(s.data),n&&(o(!0),m(r.message))},[s]);let{mutateAsync:x}=(0,f.useMutation)({mutationFn:h.wF.mutationFn});return{user:i,suspendUser:async e=>{m("");try{let s=await x(e);!0===s.success?(o(!0),m(s.message),window.location.reload()):(o(!0),m(s.message))}catch(e){b.A.isAxiosError(e)?e.response?(o(!0),m(e.response.data.message||"An error occurred while suspending the user.")):(o(!0),m("Network error. Please check your connection.")):(o(!0),m("An unexpected error occurred."))}},showToast:c,setShowToast:o,message:u}}();return(0,t.jsxs)("div",{className:"min-h-screen bg-black p-4 md:p-8",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,t.jsx)(S.A,{open:v,message:k,setOpen:A}),(0,t.jsxs)(l.A,{container:!0,spacing:4,children:[(0,t.jsx)(l.A,{size:4,children:(0,t.jsx)(r.A,{sx:{backgroundColor:"#1E1E1E",color:"white",height:"100vh",padding:"5%"},children:(0,t.jsxs)(i.A,{className:"flex flex-col items-center text-center space-y-4",children:[(0,t.jsx)(d.A,{src:"https://randomuser.me/api/portraits/women/1.jpg",sx:{width:80,height:80}}),(0,t.jsx)(c.A,{variant:"h6",children:null==a?void 0:a.username}),(0,t.jsxs)(o.A,{display:"flex",alignItems:"center",gap:1,children:[(0,t.jsx)(x.A,{sx:{color:"#7B61FF"}}),(0,t.jsxs)(c.A,{variant:"body2",children:["$",null==a?void 0:a.balance," Wallet Balance"]})]}),(0,t.jsx)(u.A,{sx:{backgroundColor:"#333",width:"100%"}}),(0,t.jsxs)(o.A,{textAlign:"left",className:"w-full space-y-2",children:[(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(c.A,{className:"text-[#A9A9A9] mt-20",children:"Details"})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.A,{variant:"body2",children:[(0,t.jsx)("strong",{children:"Username:"})," ",null==a?void 0:a.username]})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.A,{variant:"body2",children:[(0,t.jsx)("strong",{children:"Email:"})," ",null==a?void 0:a.email]})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.A,{variant:"body2",className:"flex flex-row gap-2",children:[(0,t.jsx)("strong",{className:"mt-1.5",children:"Status:"})," ",(0,t.jsx)("div",{className:"bg-[#274635] p-2 rounded-xl text-[#26c76e] font-semibold",children:null==a?void 0:a.status})]})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.A,{variant:"body2",className:"flex flex-row gap-2",children:[(0,t.jsx)("strong",{className:"mt-1",children:"Level:"})," ",(0,t.jsx)("div",{className:"bg-[#274635] p-1 rounded-xl text-[#26c76e] font-semibold w-10 text-center",children:null==a?void 0:a.level})]})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(c.A,{variant:"body2"})})]}),(0,t.jsx)(m.A,{variant:"contained",sx:{backgroundColor:"#442d2e",mt:2,color:"#ea5355"},onClick:()=>s(!0),children:"Suspend User"})]})})}),(0,t.jsx)(l.A,{size:8,children:(0,t.jsx)(o.A,{className:"",children:(0,t.jsx)(n.A,{columns:[{id:"amount",label:"Amount"},{id:"date",label:"Date"},{id:"status",label:"Status"}],data:[{id:1,amount:100,date:"1 min ago",status:"Pending"},{id:2,amount:100,date:"1 min ago",status:"Approved"},{id:3,amount:100,date:"1 min ago",status:"Suspend"},{id:4,amount:100,date:"1 min ago",status:"Pending"}],icon2:!1})})})]})]}),(0,t.jsxs)(y.A,{open:e,setOpen:s,children:[(0,t.jsx)("div",{className:"text-lg font-medium",children:"Suspend withdrawal?"}),(0,t.jsxs)("div",{className:"text-[#A9A9A9] mt-4",children:["Do you want to Suspend user ",null==a?void 0:a.username]}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)(m.A,{sx:{backgroundColor:"#F04438",color:"#fff",marginTop:"22px",marginLeft:"auto"},onClick:()=>p(Number(null==a?void 0:a.id)),children:"Suspended"})})]})]})}},59522:(e,s,a)=>{"use strict";a.d(s,{X1:()=>l,hG:()=>n,wF:()=>r});var t=a(48718);let n=()=>({queryKey:["user-admins"],queryFn:()=>(0,t.Z)("user/all")}),l=e=>({queryKey:["user-".concat(e)],queryFn:()=>(0,t.Z)("user/".concat(e))}),r={mutationFn:e=>(0,t.w)("user/suspend/".concat(e),"POST")}},94109:(e,s,a)=>{Promise.resolve().then(a.bind(a,27740))}},e=>{var s=s=>e(e.s=s);e.O(0,[4182,2295,8534,958,2469,5871,9327,6757,8732,7017,5726,757,4419,9422,8441,1684,7358],()=>s(94109)),_N_E=e.O()}]);